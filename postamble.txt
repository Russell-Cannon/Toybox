            }`;

            function compile(type, src){
                const s = gl.createShader(type);
                gl.shaderSource(s, src);
                gl.compileShader(s);
                if(!gl.getShaderParameter(s, gl.COMPILE_STATUS)) throw gl.getShaderInfoLog(s);
                    return s;
            }

            const prog = gl.createProgram();
            gl.attachShader(prog, compile(gl.VERTEX_SHADER, vs));
            gl.attachShader(prog, compile(gl.FRAGMENT_SHADER, fs));
            gl.linkProgram(prog);
            if(!gl.getProgramParameter(prog, gl.LINK_STATUS)) 
                throw gl.getProgramInfoLog(prog);
            gl.useProgram(prog);

            const iResolutionLoc = gl.getUniformLocation(prog, 'iResolution');
            const iTimeLoc = gl.getUniformLocation(prog, 'time');
            let start = performance.now();
            render();
            function render() {
                const t = (performance.now() - start) * 0.001;
                gl.uniform1f(iTimeLoc, t);
                gl.drawArrays(gl.TRIANGLES, 0, 3);
                requestAnimationFrame(render);
            }

            function resize() {
                const dpr = window.devicePixelRatio || 1;
                const w = Math.floor(canvas.clientWidth * dpr);
                const h = Math.floor(canvas.clientHeight * dpr);
                if (canvas.width !== w || canvas.height !== h) {
                    canvas.width = w; canvas.height = h;
                    gl.viewport(0, 0, w, h);
                }
                gl.uniform2f(iResolutionLoc, canvas.width, canvas.height);
                gl.drawArrays(gl.TRIANGLES, 0, 3);
            }

            window.addEventListener('resize', resize);
            resize();
        </script>
    </body>
</html>