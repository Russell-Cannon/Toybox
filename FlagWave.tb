pi = 3.1415926536
numRipples = 3
amplitude = 0.05
speed = 1
axis = combine(0,1,0)
wave(phase) = (amplitude * sin((phase + numRipples*pi*uv) + time*speed)).x * axis
comp = uv + (wave(0) * uv.x)
mask = step(comp.y, 1) * step(0, comp.y)
shadow = clamp(smoothstep(negate(amplitude*1.5), amplitude, wave(pi/2).g) + (1 - uv.x), 0.2, 1)

texture(comp) * shadow * mask